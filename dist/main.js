(()=>{"use strict";function e(e,t){const n=document.createElement("div");n.classList.add("search-result");const c=document.createElement("img");c.src=t.image?t.image.medium:"./img/placeholder.jpg",c.alt="Poster",c.id="poster";const o=document.createElement("h3");o.textContent=t.name,o.classList.add("title"),o.id="title";const a=document.createElement("img");a.src="./img/like.png",a.alt="Like";const s=document.createElement("div");s.textContent="Like";const i=document.createElement("div");i.textContent="3 likes";const l=document.createElement("button");l.textContent="Comment",l.classList.add("comment");const r=document.createElement("button");r.textContent="Reservations",r.classList.add("reservation");const d=document.createElement("div");d.classList.add("search-result-poster"),d.appendChild(c);const m=document.createElement("div");m.classList.add("search-result-name"),m.appendChild(o);const u=document.createElement("div");u.classList.add("reaction-action");const h=document.createElement("div");h.classList.add("likes"),h.appendChild(a),h.appendChild(s);const p=document.createElement("div");p.classList.add("reaction"),p.appendChild(h),p.appendChild(i);const v=document.createElement("div");v.classList.add("actions"),v.appendChild(l),v.appendChild(r),u.appendChild(p),u.appendChild(v),n.appendChild(d),n.appendChild(m),n.appendChild(u),e.appendChild(n)}async function t(){try{const t=await fetch("https://api.tvmaze.com/shows"),n=await t.json();let c=Math.floor(200*Math.random());return n.slice(c,c+20).forEach((t=>{e(content,t)})),n}catch(e){return console.log(e),e}}const n=document.querySelector(".hamburger"),c=document.querySelector(".nav-items"),o=document.querySelector(".search-button"),a=document.querySelectorAll("#tvshows"),s=document.querySelector("#home"),i=document.querySelector("#content");function l(){i.innerHTML=""}function r(){n.classList.remove("active"),c.classList.remove("active")}o.addEventListener("click",(t=>{t.preventDefault(),l(),async function(){try{const t=document.getElementById("search").value,n="https://api.tvmaze.com/";if(""!==t)return async function(t){const n=await t.json();return t.ok?(0===n.length?console.log("No movies found."):(console.log(n),n.forEach((t=>{e(content,t)}))),n):(console.log(n.Error),n.Error)}(await fetch(`${n}search/shows?q=${t}`));console.log("No search input provided.")}catch(e){return console.log(e),e}}()})),a.forEach((t=>t.addEventListener("click",(t=>{t.preventDefault(),l(),async function(){try{console.log("Fetching TV shows...");const t=await fetch("https://api.tvmaze.com/shows"),n=await t.json();return n.forEach((t=>{e(content,t)})),n}catch(e){return console.log(e),e}}()})))),s.addEventListener("click",(e=>{e.preventDefault(),l(),t()}));let d=document.getElementsByClassName("nav-link");function m(e){for(let e=0;e<d.length;e++)d[e].classList.remove("active");e.target.classList.add("active")}t(),function(){for(let e=0;e<d.length;e++)d[e].addEventListener("click",m)}();const u=document.querySelector(".hamburger"),h=document.querySelectorAll(".nav-link");u.addEventListener("click",(function(){n.classList.toggle("active"),c.classList.toggle("active")})),h.forEach((e=>e.addEventListener("click",r))),window.addEventListener("click",(function(e){e.target.closest(".hamburger")||e.target.closest(".nav-items")||r()}))})();